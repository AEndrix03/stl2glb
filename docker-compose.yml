version: "3.9"
services:
  stl2glb:
    build: .
    ports:
      - "9002:${STL2GLB_PORT}"
    env_file:
      - .env
    volumes:
      - ./:/project
      - vcpkg_installed:/home/applications/stl2glb/external/vcpkg/installed
      - vcpkg_buildtrees:/home/applications/stl2glb/external/vcpkg/buildtrees
      - vcpkg_packages:/home/applications/stl2glb/external/vcpkg/packages
    working_dir: /project/build
    command: ./stl2glb_exec

volumes:
  vcpkg_installed:
  vcpkg_buildtrees:
  vcpkg_packages:
